{% extends 'base.html' %}

{% block content %}
<div class="mb-8">
    <h2 class="text-4xl font-black text-slate-800 tracking-tight mb-2">ğŸŒŠ ì–´í•­ ê´€ë¦¬ ì„¼í„°</h2>
    <p class="text-slate-500 font-medium ml-1">ì–´í•­ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</div>

<div class="grid grid-cols-3 gap-4 mb-10">
    <a href="{% url 'monitoring:add_tank' %}" class="bg-white/80 backdrop-blur-md p-6 rounded-[2rem] shadow-sm border border-white flex flex-col items-center justify-center group hover:bg-blue-600 transition-all active-stable">
        <span class="text-3xl mb-2 group-hover:scale-110 transition-transform">â•</span>
        <span class="text-[13px] font-black text-slate-600 group-hover:text-white uppercase">ì–´í•­ ì¶”ê°€</span>
    </a>

    <a href="{% url 'monitoring:tank_list' %}" class="bg-blue-600 p-6 rounded-[2rem] shadow-lg shadow-blue-100 border border-blue-400 flex flex-col items-center justify-center group transition-all active-stable">
        <span class="text-3xl mb-2 scale-110">âœï¸</span>
        <span class="text-[13px] font-black text-white uppercase">ì–´í•­ í¸ì§‘</span>
    </a>

    <a href="#" onclick="alert('ì•„ë˜ ê° ì–´í•­ ì¹´ë“œì˜ ì‚­ì œ ë²„íŠ¼ì„ ì´ìš©í•´ì£¼ì„¸ìš”!')" class="bg-white/80 backdrop-blur-md p-6 rounded-[2rem] shadow-sm border border-white flex flex-col items-center justify-center group hover:bg-red-500 transition-all active-stable">
        <span class="text-3xl mb-2 group-hover:scale-110 transition-transform">ğŸ—‘ï¸</span>
        <span class="text-[13px] font-black text-slate-600 group-hover:text-white uppercase">ì–´í•­ ì‚­ì œ</span>
    </a>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
    {% for item in tank_data %}
    <div class="bg-white/70 backdrop-blur-xl rounded-[3rem] shadow-[0_20px_50px_rgba(0,119,255,0.08)] border border-white p-8 transition-all hover:shadow-[0_30px_60px_rgba(0,119,255,0.15)]">
        <div class="flex justify-between items-start mb-8">
            <div>
                <span class="text-[10px] font-black uppercase tracking-[0.2em] text-blue-500 mb-1 block">Management Mode</span>
                <h3 class="text-2xl font-black text-slate-800">{{ item.tank.name }}</h3>
                <p class="text-xs text-slate-400 font-bold mt-1">ì–´ì¢…: {{ item.tank.fish_species|default:"ë¯¸ì§€ì •" }}</p>
            </div>
            
            <a href="{% url 'monitoring:edit_tank' item.tank.id %}" class="flex items-center gap-2 bg-slate-100 text-slate-600 px-5 py-3 rounded-[1.2rem] text-sm font-black hover:bg-blue-100 hover:text-blue-600 transition-all active-stable">
                <span>ğŸ› ï¸ í¸ì§‘í•˜ê¸°</span>
            </a>
        </div>

        <div class="grid grid-cols-3 gap-4 mb-8">
            <div class="bg-slate-50/50 p-4 rounded-[1.8rem] text-center border border-white">
                <p class="text-[9px] text-blue-500 font-black uppercase">Temp</p>
                <p class="text-lg font-black text-slate-800">{{ item.latest.temperature|default:"--" }}Â°C</p>
            </div>
            <div class="bg-slate-50/50 p-4 rounded-[1.8rem] text-center border border-white">
                <p class="text-[9px] text-purple-500 font-black uppercase">pH</p>
                <p class="text-lg font-black text-slate-800">{{ item.latest.ph|default:"--" }}</p>
            </div>
            <div class="bg-slate-50/50 p-4 rounded-[1.8rem] text-center border border-white">
                <p class="text-[9px] text-cyan-500 font-black uppercase">Capacity</p>
                <p class="text-lg font-black text-slate-800">{{ item.tank.capacity|default:"0" }}L</p>
            </div>
        </div>

        <div class="flex justify-end">
            <form action="{% url 'monitoring:delete_tank' item.tank.id %}" method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí• ê¹Œìš”?')">
                {% csrf_token %}
                <button type="submit" class="text-[11px] font-black text-red-400 hover:text-red-600 transition-colors">ì´ ì–´í•­ ì˜êµ¬ ì‚­ì œ ğŸ—‘ï¸</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>

{% if page_obj.paginator.num_pages > 1 %}
<div class="mt-16 flex justify-center items-center gap-3">
    {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
            <span class="w-12 h-12 flex items-center justify-center rounded-2xl bg-blue-600 text-white font-black shadow-xl shadow-blue-100">{{ num }}</span>
        {% else %}
            <a href="?page={{ num }}" class="w-12 h-12 flex items-center justify-center rounded-2xl bg-white text-slate-600 font-bold hover:bg-blue-50 transition-all shadow-sm">{{ num }}</a>
        {% endif %}
    {% endfor %}
</div>
{% endif %}
{% endblock %}